{"version":3,"sources":["webpack:///./src/components/jsplumbchart/lib/flowchart.js","webpack:///src/components/jsplumbchart/node/flowchatNode/index.vue","webpack:///./src/components/jsplumbchart/node/flowchatNode/index.vue?3d40","webpack:///./src/components/jsplumbchart/node/flowchatNode/index.vue","webpack:///./src/components/jsplumbchart/lib/pan.js","webpack:///src/components/jsplumbchart/index.vue","webpack:///./src/components/jsplumbchart/lib/getInstance.js","webpack:///./src/components/jsplumbchart/index.vue?dec1","webpack:///./src/components/jsplumbchart/index.vue","webpack:///./src/components/jsplumbchart/index.js"],"names":["nodeClass","type","nodeIconFont","source","sqlsource","sink","decision","validate","supplement","sql","transform","filter","sample","lookup","join","starjoin","productjoin","aggregate","top","union","intersect","minus","split","Correlation","Summary","gradientboogradientbostedtrees_predict","MultilayerPerceptronPredict","MultilayerPerceptronTrain","kmeans_predict","kmeans_train","nodeIcon","specialNodeClass","connectorPaintStyle","strokeWidth","stroke","joinstyle","outlineColor","outlineWidth","connectorHoverStyle","origin","endpoint","radius","connectorStyle","paintStyle","fill","lineWidth","isSource","connector","stub","gap","cornerRadius","alwaysRespectStubs","isTarget","maxConnections","connectorOverlays","width","length","location","destination","getOutputConfigurations","val","_","result","forEach","value","key","push","addMultioutput","list","lineheight","y","distance","j","setClass","flowchatNode","watch","data","this","stepData","props","Object","default","components","computed","mounted","beforeCreate","created","beforeMount","beforeUpdate","updated","beforeDestroy","destroyed","methods","delNode","$emit","dblClick","copyNode","setLineSplit","step","lodash_default","a","toArray","outputConfigurations","node_flowchatNode","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","id","_l","index","class","style","x","data-sign","name","data-type","on","dblclick","$event","_v","title","_s","click","preventDefault","directives","rawName","expression","staticRenderFns","jsplumbchart_node_flowchatNode","__webpack_require__","normalizeComponent","ssrContext","panzoom","require","panZoom","init","instance","shouldIgnore","mainContainer","getContainer","mainContainerWrap","parentNode","pan","smoothScroll","bounds","autocenter","zoomDoubleClickSpeed","minZoom","maxZoom","beforeWheel","e","scale","getTransform","setZoom","cursor","addEventListener","jsplumbchart","steps","links","nodeType","flowchartNode","jsplumbInstance","options","container","delConnections","completedConnect","jsPlumb","getInstance","Container","bind","c","detach","instanceZoom","isPanZoomInit","cssText","_this","$nextTick","drawJsplumbChart","self","flowData","getLinksData","canvasMoveTo","matrix","transformOrigin","moveTo","fn","parseInt","setCavansMatrix","stepSettings","setNodeTemplate","cepNode","connectCallback","_this2","map","item","extends_default","deleteEveryEndpoint","drawType","dataIndex","addEndpoint","anchors","uuid","overlays","label","cssClass","draggable","start","params","drag","stop","el","left","replace","attributes","nodeValue","connect","uuids","sourceOutput","target","input","cloneDeep","getAllConnections","sourceId","endpoints","canvas","nextSibling","textContent","targetId","targetInput","dataset","reset","node","components_jsplumbchart","src_components_jsplumbchart","jsplumbchart_normalizeComponent","__webpack_exports__","install","Vue","component"],"mappings":"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","file":"static/js/app.46dec16cc9879c44c491.js","sourcesContent":["/* eslint-disable */\r\n//节点类型\r\nexport function nodeClass(type) {\r\n\tswitch (type) {\r\n\t\t//dataflow 端点左1，右-1\r\n\t\tcase 'source':\r\n\t\tcase 'sqlsource':\r\n\t\tcase 'streaming_source':\r\n\t\tcase 'source_dummy':\r\n\t\tcase 'StartEvent':\r\n\t\t\t//case 'ConditionEvent':\r\n\t\t\treturn 'classD_A';\r\n\t\t//dataflow 端点左1\r\n\t\tcase 'sink':\r\n\t\tcase 'show':\r\n\t\t\treturn 'classD_B';\r\n\t\t//dataflow 端点左-1，右-1\r\n\t\tcase 'union':\r\n\t\tcase 'intersect':\r\n\t\tcase 'starjoin':\r\n\t\t\treturn 'classD_C';\r\n\t\t//dataflow 端点左1，右2 -1\r\n\t\tcase 'decision':\r\n\t\tcase 'split':\r\n\t\tcase 'validate':\r\n\t\t\treturn 'classD_D';\r\n\t\t//dataflow 端点左2 1，右1\r\n\t\tcase 'join':\r\n\t\tcase 'productjoin':\r\n\t\tcase 'minus':\r\n\t\t\treturn 'classD_E';\r\n\t\t//workflow 端点左-1，右-1\r\n\t\tcase 'dataflow':\r\n\t\tcase 'hawq':\r\n\t\tcase 'hive':\r\n\t\tcase 'mapreduce':\r\n\t\tcase 'shell':\r\n\t\tcase 'spark':\r\n\t\tcase 'event':\r\n\t\tcase 'exclusive':\r\n\t\tcase 'parallel':\r\n\t\t\treturn 'classW_C';\r\n\t\t//other 端点左1，右1\r\n\t\tdefault:\r\n\t\t\treturn 'classO';\r\n\t}\r\n}\r\n\r\n//字体图标的变量（需跟iconFont字体包同步）\r\nvar nodeIconFont = {\r\n\tsource: 'source',\r\n\tsqlsource: 'sqlsource',\r\n\tsink: 'sink',\r\n\tdecision: 'decision',\r\n\tvalidate: 'validate',\r\n\tsupplement: 'supplement',\r\n\tsql: 'sql',\r\n\ttransform: 'transform',\r\n\tfilter: 'filter',\r\n\tsample: 'sample',\r\n\tlookup: 'lookup',\r\n\tjoin: 'join',\r\n\tstarjoin: 'starjoin',\r\n\tproductjoin: 'productjoin',\r\n\taggregate: 'aggregate',\r\n\ttop: 'top',\r\n\tunion: 'union',\r\n\tintersect: 'intersect',\r\n\tminus: 'minus',\r\n\tsplit: 'split',\r\n\tCorrelation: 'Correlation',\r\n\tSummary: 'Summary',\r\n\tgradientboogradientbostedtrees_predict: 'gradientboogradientbostedtrees_predict',\r\n\tMultilayerPerceptronPredict: 'MultilayerPerceptronPredict',\r\n\tMultilayerPerceptronTrain: 'MultilayerPerceptronTrain',\r\n\tkmeans_predict: 'kmeans_predict',\r\n\tkmeans_train: 'kmeans_train'\r\n\t// aggregate: \"aggregate\"\r\n};\r\n//节点图标函数\r\nexport function nodeIcon(type) {\r\n\tif (type in nodeIconFont) {\r\n\t\treturn 'iconTrue';\r\n\t} else {\r\n\t\treturn false;\r\n\t}\r\n}\r\n\r\nexport function specialNodeClass(type) {\r\n\tswitch (type) {\r\n\t\t//dataflow 左1 右2 yse -1 no -1\r\n\t\tcase 'decision':\r\n\t\tcase 'split':\r\n\t\t\treturn 'classD_D1';\r\n\t\t//dataflow 左1 右2 ok -1 error -1\r\n\t\tcase 'validate':\r\n\t\t\treturn 'classD_D2';\r\n\t\t//dataflow 左2 left 1 right 1 右-1\r\n\t\tcase 'join':\r\n\t\tcase 'productjoin':\r\n\t\t\treturn 'classD_E1';\r\n\t\t//dataflow 左2 input1 1 input2 1 right 1 右-1\r\n\t\tcase 'minus':\r\n\t\t\treturn 'classD_E2';\r\n\t\t//worflow 特殊节点 左-1 右-1\r\n\t\tcase 'dataflow':\r\n\t\t\treturn 'classW_A';\r\n\t\t// case \"aggregate\":\r\n\t\t//   return \"classW_A\";\r\n\t}\r\n}\r\n\r\n/**\r\n *\r\n * jsPlumb设计器 设置参数\r\n * ------------------------------------------------------------------\r\n */\r\nexport var connectorPaintStyle = {\r\n\t//基本连接线样式\r\n\tstrokeWidth: 2,\r\n\tstroke: '#4e5568',\r\n\tjoinstyle: 'round',\r\n\toutlineColor: 'white',\r\n\toutlineWidth: 0\r\n};\r\nexport var connectorHoverStyle = {\r\n\t// 鼠标悬浮在连接线上的样式\r\n\tstrokeWidth: 3,\r\n\tstroke: '#ff4e4e',\r\n\toutlineColor: 'white',\r\n\toutlineWidth: 0\r\n};\r\nexport var origin = {\r\n\t//起点\r\n\tendpoint: [ 'Dot', { radius: 8 } ], //端点的形状\r\n\tconnectorStyle: connectorPaintStyle, //连接线的颜色，大小样式\r\n\tconnectorHoverStyle: connectorHoverStyle,\r\n\tpaintStyle: {\r\n\t\tstroke: '#4e5568',\r\n\t\tfill: 'transparent',\r\n\t\tradius: 6,\r\n\t\tlineWidth: 6\r\n\t}, //端点的颜色样式\r\n\t//anchor: \"AutoDefault\",\r\n\tisSource: true, //是否可以拖动（作为连线起点）\r\n\tconnector: [ 'Flowchart', { stub: [ 5, 5 ], gap: 10, cornerRadius: 5, alwaysRespectStubs: true } ], //连接线的样式种类有[Bezier],[Flowchart],[StateMachine ],[Straight ]\r\n\tisTarget: false, //是否可以放置（连线终点）\r\n\tmaxConnections: 1, // 设置连接点最多可以连接几条线,-1表示无限大\r\n\tconnectorOverlays: [ [ 'Arrow', { width: 10, length: 10, location: 1 } ] ]\r\n};\r\nexport var destination = {\r\n\t//终点\r\n\tendpoint: [ 'Dot', { radius: 6 } ], //端点的形状\r\n\tconnectorStyle: connectorPaintStyle, //连接线的颜色，大小样式\r\n\tconnectorHoverStyle: connectorHoverStyle,\r\n\tpaintStyle: { fill: '#4e5568' }, //端点的颜色样式\r\n\tisSource: false, //是否可以拖动（作为连线起点）\r\n\tconnector: [ 'Straight', { stub: [ 5, 5 ], gap: 10, cornerRadius: 5, alwaysRespectStubs: true } ], //连接线的样式种类有[Bezier],[Flowchart],[StateMachine ],[Straight ]\r\n\tisTarget: true, //是否可以放置（连线终点）\r\n\tmaxConnections: 1, // 设置连接点最多可以连接几条线,-1表示无限大\r\n\tconnectorOverlays: [ [ 'Arrow', { width: 10, length: 10, location: 1 } ] ]\r\n};\r\n\r\nexport const addEndpointToNode = (jsplumbInstance, self, steps, flowData, _) => {\r\n\tjsplumbInstance.deleteEveryEndpoint();\r\n\tself.$nextTick(() => {\r\n\t\tsteps.forEach((data, index) => {\r\n\t\t\tlet drawType = data.type,\r\n\t\t\t\tdataIndex = data.id;\r\n\r\n\t\t\t//节点锚点添加\r\n\t\t\t//左侧无，右侧一个起点\r\n\t\t\tif (nodeClass(drawType) == 'classD_A') {\r\n\t\t\t\t//jsplumbInstance.deleteEndpoint(dataIndex + \"output\" + \"origin\");\r\n\t\t\t\tjsplumbInstance.addEndpoint(\r\n\t\t\t\t\tdataIndex,\r\n\t\t\t\t\t{ anchors: 'RightMiddle', maxConnections: 100 },\r\n\t\t\t\t\t{ uuid: dataIndex + 'output' + 'origin', ...origin }\r\n\t\t\t\t);\r\n\t\t\t} else if (nodeClass(drawType) == 'classD_B') {\r\n\t\t\t\tjsplumbInstance.addEndpoint(\r\n\t\t\t\t\tdataIndex,\r\n\t\t\t\t\t{ anchors: 'LeftMiddle' },\r\n\t\t\t\t\t{ uuid: dataIndex + 'input' + 'destination', ...destination }\r\n\t\t\t\t);\r\n\t\t\t} else if (nodeClass(drawType) == 'classD_C' || nodeClass(drawType) == 'classW_C') {\r\n\t\t\t\t//左侧一个终点（多），右侧起点(多)\r\n\t\t\t\tjsplumbInstance.addEndpoint(\r\n\t\t\t\t\tdataIndex,\r\n\t\t\t\t\t{ anchors: 'LeftMiddle', maxConnections: -1 },\r\n\t\t\t\t\t{ uuid: dataIndex + 'input' + 'destination', ...destination }\r\n\t\t\t\t);\r\n\t\t\t\tjsplumbInstance.addEndpoint(\r\n\t\t\t\t\tdataIndex,\r\n\t\t\t\t\t{ anchors: 'RightMiddle', maxConnections: -1 },\r\n\t\t\t\t\t{ uuid: dataIndex + 'output' + 'origin', ...origin }\r\n\t\t\t\t);\r\n\t\t\t} else if (specialNodeClass(drawType) == 'classD_D1') {\r\n\t\t\t\t//return;\r\n\t\t\t\tlet anchors = addMultioutput(getOutputConfigurations(data.outputConfigurations, _));\r\n\r\n\t\t\t\t// console.log(\"data\", data);\r\n\t\t\t\t// console.log(\"anchors\", anchors);\r\n\t\t\t\t// console.log(\r\n\t\t\t\t//   \"getOutputConfigurations(data.outputConfigurations, _)\",\r\n\t\t\t\t//   getOutputConfigurations(data.outputConfigurations, _)\r\n\t\t\t\t// );\r\n\t\t\t\t// console.log(\"data.outputConfigurations\", data.outputConfigurations);\r\n\t\t\t\t// console.log(_.toArray(data.outputConfigurations));\r\n\r\n\t\t\t\t// let keyList = getKeyList(data.outputConfigurations);\r\n\t\t\t\t// console.log(\"keyList\", keyList);\r\n\r\n\t\t\t\t_.forEach(anchors, (val, index) => {\r\n\t\t\t\t\t//let label = \"output\" + (index + 1);\r\n\t\t\t\t\tjsplumbInstance.addEndpoint(\r\n\t\t\t\t\t\tdataIndex,\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tanchors: val.value,\r\n\t\t\t\t\t\t\tmaxConnections: -1,\r\n\t\t\t\t\t\t\toverlays: [\r\n\t\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t\t'Label',\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tlocation: [ 3.5, 0 ],\r\n\t\t\t\t\t\t\t\t\t\t// location: index % 2 == 0 ? [3.5, 0] : [-3.5, 0],\r\n\t\t\t\t\t\t\t\t\t\tlabel: val.key,\r\n\t\t\t\t\t\t\t\t\t\tcssClass: 'endpointSourceLabelMult'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{ uuid: dataIndex + val.key + 'origin', ...origin }\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\r\n\t\t\t\t//left\r\n\r\n\t\t\t\tjsplumbInstance.addEndpoint(\r\n\t\t\t\t\tdataIndex,\r\n\t\t\t\t\t{ anchors: 'LeftMiddle' },\r\n\t\t\t\t\t{ uuid: dataIndex + 'input' + 'destination', ...destination }\r\n\t\t\t\t);\r\n\t\t\t\t// jsplumbInstance.addEndpoint(\r\n\t\t\t\t//   dataIndex,\r\n\t\t\t\t//   { anchors: \"LeftMiddle\" },\r\n\t\t\t\t//   { uuid: dataIndex + \"input\" + \"destination\", ...destination }\r\n\t\t\t\t// );\r\n\t\t\t} else if (specialNodeClass(drawType) == 'classD_D2') {\r\n\t\t\t\tjsplumbInstance.addEndpoint(\r\n\t\t\t\t\tdataIndex,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tanchors: [ 1, 0.3, 0, 0 ],\r\n\t\t\t\t\t\tmaxConnections: -1,\r\n\t\t\t\t\t\toverlays: [\r\n\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t'Label',\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tlocation: [ 1.5, -0.5 ],\r\n\t\t\t\t\t\t\t\t\tlabel: 'ok',\r\n\t\t\t\t\t\t\t\t\tcssClass: 'endpointSourceLabel'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{ uuid: dataIndex + 'ok' + 'origin', ...origin }\r\n\t\t\t\t);\r\n\t\t\t\tjsplumbInstance.addEndpoint(\r\n\t\t\t\t\tdataIndex,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tanchors: [ 1, 0.7, 0, 0 ],\r\n\t\t\t\t\t\tmaxConnections: -1,\r\n\t\t\t\t\t\toverlays: [\r\n\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t'Label',\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tlocation: [ 1.5, 1.3 ],\r\n\t\t\t\t\t\t\t\t\tlabel: 'error',\r\n\t\t\t\t\t\t\t\t\tcssClass: 'endpointSourceLabel'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{ uuid: dataIndex + 'error' + 'origin', ...origin }\r\n\t\t\t\t);\r\n\t\t\t\tjsplumbInstance.addEndpoint(\r\n\t\t\t\t\tdataIndex,\r\n\t\t\t\t\t{ anchors: 'LeftMiddle' },\r\n\t\t\t\t\t{ uuid: dataIndex + 'input' + 'destination', ...destination }\r\n\t\t\t\t);\r\n\t\t\t} else if (specialNodeClass(drawType) == 'classD_E1') {\r\n\t\t\t\tjsplumbInstance.addEndpoint(\r\n\t\t\t\t\tdataIndex,\r\n\t\t\t\t\t{ anchors: 'RightMiddle', maxConnections: -1 },\r\n\t\t\t\t\t{ uuid: dataIndex + 'output' + 'origin', ...origin }\r\n\t\t\t\t);\r\n\t\t\t\tjsplumbInstance.addEndpoint(\r\n\t\t\t\t\tdataIndex,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tanchors: [ 0, 0.3, 0, 0 ],\r\n\t\t\t\t\t\toverlays: [\r\n\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t'Label',\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tlocation: [ -1, -0.5 ],\r\n\t\t\t\t\t\t\t\t\tlabel: 'left',\r\n\t\t\t\t\t\t\t\t\tcssClass: 'endpointSourceLabel'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{ uuid: dataIndex + 'left' + 'destination', ...destination }\r\n\t\t\t\t);\r\n\t\t\t\tjsplumbInstance.addEndpoint(\r\n\t\t\t\t\tdataIndex,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tanchors: [ 0, 0.7, 0, 0 ],\r\n\t\t\t\t\t\toverlays: [\r\n\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t'Label',\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tlocation: [ -1, 1.5 ],\r\n\t\t\t\t\t\t\t\t\tlabel: 'right',\r\n\t\t\t\t\t\t\t\t\tcssClass: 'endpointSourceLabel'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{ uuid: dataIndex + 'right' + 'destination', ...destination }\r\n\t\t\t\t);\r\n\t\t\t} else if (specialNodeClass(drawType) == 'classD_E2') {\r\n\t\t\t\tjsplumbInstance.addEndpoint(\r\n\t\t\t\t\tdataIndex,\r\n\t\t\t\t\t{ anchors: 'RightMiddle', maxConnections: -1 },\r\n\t\t\t\t\t{ uuid: dataIndex + 'output' + 'origin', ...origin }\r\n\t\t\t\t);\r\n\t\t\t\tjsplumbInstance.addEndpoint(\r\n\t\t\t\t\tdataIndex,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tanchors: [ 0, 0.3, 0, 0 ],\r\n\t\t\t\t\t\toverlays: [\r\n\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t'Label',\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tlocation: [ -1, -0.5 ],\r\n\t\t\t\t\t\t\t\t\tlabel: 'input1',\r\n\t\t\t\t\t\t\t\t\tcssClass: 'endpointSourceLabel'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{ uuid: dataIndex + 'input1' + 'destination', ...destination }\r\n\t\t\t\t);\r\n\t\t\t\tjsplumbInstance.addEndpoint(\r\n\t\t\t\t\tdataIndex,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tanchors: [ 0, 0.7, 0, 0 ],\r\n\t\t\t\t\t\toverlays: [\r\n\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t'Label',\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tlocation: [ -1, 1.5 ],\r\n\t\t\t\t\t\t\t\t\tlabel: 'input2',\r\n\t\t\t\t\t\t\t\t\tcssClass: 'endpointSourceLabel'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{ uuid: dataIndex + 'input2' + 'destination', ...destination }\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tjsplumbInstance.addEndpoint(\r\n\t\t\t\t\tdataIndex,\r\n\t\t\t\t\t{ anchors: 'RightMiddle', maxConnections: -1 },\r\n\t\t\t\t\t{ uuid: dataIndex + 'output' + 'origin', ...origin }\r\n\t\t\t\t);\r\n\t\t\t\tjsplumbInstance.addEndpoint(\r\n\t\t\t\t\tdataIndex,\r\n\t\t\t\t\t{ anchors: 'LeftMiddle', maxConnections: drawType == 'sql' ? -1 : 1 },\r\n\t\t\t\t\t{ uuid: dataIndex + 'input' + 'destination', ...destination }\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tjsplumbInstance.draggable(dataIndex, {\r\n\t\t\t\t// containment: 'parent',\r\n\t\t\t\tstart(params) {\r\n\t\t\t\t\t// 拖动开始\r\n\t\t\t\t\t// console.log(params);\r\n\t\t\t\t\t//console.log(\"拖动开始\");\r\n\t\t\t\t},\r\n\t\t\t\tdrag(params) {\r\n\t\t\t\t\t// 拖动中\r\n\t\t\t\t},\r\n\t\t\t\tstop(params) {\r\n\t\t\t\t\tlet top = params.el.style.top;\r\n\t\t\t\t\tlet left = params.el.style.left;\r\n\t\t\t\t\t// 拖动结束\r\n\t\t\t\t\t// console.log(\"拖动介绍\");\r\n\t\t\t\t\tflowData({\r\n\t\t\t\t\t\tx: parseInt(left.replace('px', '')),\r\n\t\t\t\t\t\ty: parseInt(top.replace('px', '')),\r\n\t\t\t\t\t\tid: params.el.attributes.id.nodeValue\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t});\r\n};\r\n\r\nexport const getOutputConfigurations = (val, _) => {\r\n\tlet result = [];\r\n\t_.forEach(val, (value, key) => {\r\n\t\tresult.push({ key: key, value: value });\r\n\t});\r\n\treturn result;\r\n};\r\n\r\n// 参数 val output 个数\r\nexport const addMultioutput = (list) => {\r\n\t//右边多输出 [1,20] 默认或者最小为1，上限20\r\n\t// [1, 0, 0, 0]\r\n\r\n\tlet val = list.length;\r\n\r\n\tlet lineheight = 1;\r\n\tlet y = 0;\r\n\r\n\tswitch (val) {\r\n\t\tcase 21:\r\n\t\tcase 20:\r\n\t\tcase 19:\r\n\t\tcase 18:\r\n\t\tcase 17:\r\n\t\t\tlineheight = 4;\r\n\t\t\ty = -1.33;\r\n\t\t\tbreak;\r\n\t\tcase 16:\r\n\t\tcase 15:\r\n\t\t\tlineheight = 4;\r\n\t\t\ty = -1.25;\r\n\t\t\tbreak;\r\n\t\tcase 14:\r\n\t\tcase 13:\r\n\t\tcase 12:\r\n\t\t\tlineheight = 3;\r\n\t\t\ty = -0.73;\r\n\t\t\tbreak;\r\n\r\n\t\tcase 11:\r\n\t\t\t// case 10:\r\n\t\t\tlineheight = 2.5;\r\n\t\t\ty = -0.65;\r\n\t\t\tbreak;\r\n\r\n\t\tcase 10:\r\n\t\t\tlineheight = 2.5;\r\n\t\t\ty = -0.6;\r\n\t\t\tbreak;\r\n\t\tcase 9:\r\n\t\tcase 8:\r\n\t\t\tlineheight = 2;\r\n\t\t\ty = -0.45;\r\n\t\t\tbreak;\r\n\r\n\t\tcase 7:\r\n\t\t\tlineheight = 1.8;\r\n\t\t\ty = -0.2;\r\n\t\t\tbreak;\r\n\r\n\t\tcase 5:\r\n\t\t\tlineheight = 2;\r\n\t\t\ty = -0.33;\r\n\t\t\tbreak;\r\n\t\tcase 6:\r\n\t\t\tlineheight = 2;\r\n\t\t\ty = -0.35;\r\n\t\t\tbreak;\r\n\t\tcase 4:\r\n\t\tcase 3:\r\n\t\t\tlineheight = 1;\r\n\t\t\ty = 0.15;\r\n\t\t\tbreak;\r\n\t\tcase 2:\r\n\t\t\tlineheight = 1;\r\n\t\t\ty = 0.25;\r\n\t\t\tbreak;\r\n\t\tcase 1:\r\n\t\t\tlineheight = 1;\r\n\t\t\ty = 0.5;\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\t'';\r\n\t}\r\n\r\n\tlet distance = lineheight / val;\r\n\tlet result = [];\r\n\r\n\tfor (let j = 0; j < list.length; j++) {\r\n\t\tresult.push({ key: list[j].key, value: [ 1, y, 0, 0 ] });\r\n\t\ty += distance;\r\n\t}\r\n\r\n\treturn result;\r\n};\r\n\r\nexport const connect = (jsplumbInstance, self, links, connectCallback) => {\r\n\tself.$nextTick(() => {\r\n\t\t//节点之间连线\r\n\t\tlinks.forEach((item) => {\r\n\t\t\tjsplumbInstance.connect({\r\n\t\t\t\tuuids: [ item.source + item.sourceOutput + 'origin', item.target + item.input + 'destination' ]\r\n\t\t\t});\r\n\t\t});\r\n\t\tconnectCallback();\r\n\t});\r\n};\r\n\r\nexport const getNodeType = (drawType) => {\r\n\tif (nodeClass(drawType) == 'classD_A') {\r\n\t\treturn 'RightMiddle1';\r\n\t} else if (nodeClass(drawType) == 'classD_B') {\r\n\t\treturn 'LeftMiddle1';\r\n\t} else if (nodeClass(drawType) == 'classD_C' || nodeClass(drawType) == 'classW_C') {\r\n\t\treturn 'LeftMiddle1RightMiddle1';\r\n\t} else if (specialNodeClass(drawType) == 'classD_D1') {\r\n\t\treturn 'LeftMiddle1yesno';\r\n\t} else if (specialNodeClass(drawType) == 'classD_D2') {\r\n\t\treturn 'LeftMiddle1okerror';\r\n\t} else if (specialNodeClass(drawType) == 'classD_E1') {\r\n\t\treturn 'leftrightRightMiddle';\r\n\t} else if (specialNodeClass(drawType) == 'classD_E2') {\r\n\t\treturn 'input1input2RightMiddle';\r\n\t} else {\r\n\t\treturn 'LeftMiddle1RightMiddle1';\r\n\t}\r\n};\r\n\r\nexport const setClass = (type) => {\r\n\tlet result = '';\r\n\tif (type == 'classD_A') {\r\n\t\tresult = 't1Style';\r\n\t} else if (type == 'classD_B') {\r\n\t\tresult = 't3Style';\r\n\t} else {\r\n\t\tresult = 't2Style';\r\n\t}\r\n\r\n\treturn result;\r\n};\r\n\r\nexport const filterLinkData = (data, _) => {\r\n\treturn _.map(data, (value) => {\r\n\t\t//sourceOutput\r\n\t\tif (value.sourceOutput) {\r\n\t\t\tvalue.sourceOutput = value.sourceOutput;\r\n\t\t} else {\r\n\t\t\tvalue.sourceOutput = 'output';\r\n\t\t}\r\n\r\n\t\t//targetInput\r\n\r\n\t\tif (nodeClass(value.targetInput) == 'classD_C') {\r\n\t\t\tvalue.targetInput = value.source;\r\n\t\t}\r\n\r\n\t\tif (value.input) {\r\n\t\t\tvalue.targetInput = value.input;\r\n\t\t} else {\r\n\t\t\tvalue.targetInput = 'input';\r\n\t\t}\r\n\r\n\t\t//input\r\n\t\tif (value.input) {\r\n\t\t\tvalue.input = value.input;\r\n\t\t} else {\r\n\t\t\tvalue.input = 'input';\r\n\t\t}\r\n\r\n\t\treturn value;\r\n\t});\r\n};\r\n\r\n// export const filterLinkData = (data, _) => {\r\n//   return _.map(data, value => {\r\n//     //过滤sourceOutput\r\n//     if (value.sourceOutput == \"yes\") {\r\n//       value.sourceOutput = \"yes\";\r\n//     } else if (value.sourceOutput == \"no\") {\r\n//       value.sourceOutput = \"no\";\r\n//     } else if (value.sourceOutput == \"ok\") {\r\n//       value.sourceOutput = \"ok\";\r\n//     } else if (value.sourceOutput == \"error\") {\r\n//       value.sourceOutput = \"error\";\r\n//     } else {\r\n//       value.sourceOutput = \"output\";\r\n//     }\r\n\r\n//     ////过滤targetInput\r\n\r\n//     if (nodeClass(value.targetInput) == \"classD_C\") {\r\n//       value.targetInput = value.source;\r\n//     } else if (value.input == \"input1\") {\r\n//       value.targetInput = \"input1\";\r\n//     } else if (value.input == \"input2\") {\r\n//       value.targetInput = \"input2\";\r\n//     } else if (value.input == \"right\") {\r\n//       value.targetInput = \"right\";\r\n//     } else if (value.input == \"left\") {\r\n//       value.targetInput = \"left\";\r\n//     } else {\r\n//       value.targetInput = \"input\";\r\n//     }\r\n\r\n//     ////过滤input\r\n\r\n//     if (value.input == \"left\") {\r\n//       value.input = \"left\";\r\n//     } else if (value.input == \"right\") {\r\n//       value.input = \"right\";\r\n//     } else if (value.input == \"input1\") {\r\n//       value.input = \"input1\";\r\n//     } else if (value.input == \"input2\") {\r\n//       value.input = \"input2\";\r\n//     } else {\r\n//       value.input = \"input\";\r\n//     }\r\n\r\n//     return value;\r\n//   });\r\n// };\r\n\r\nexport const message = (message, callback, self) => {\r\n\tself\r\n\t\t.$confirm(message, '提示', {\r\n\t\t\tconfirmButtonText: '确定',\r\n\t\t\tcancelButtonText: '取消',\r\n\t\t\ttype: 'warning'\r\n\t\t})\r\n\t\t.then(() => {\r\n\t\t\tself.$message({\r\n\t\t\t\ttype: 'success',\r\n\t\t\t\tmessage: '删除成功!'\r\n\t\t\t});\r\n\t\t\tcallback();\r\n\t\t})\r\n\t\t.catch(() => {\r\n\t\t\tself.$message({\r\n\t\t\t\ttype: 'info',\r\n\t\t\t\tmessage: '已取消删除'\r\n\t\t\t});\r\n\t\t});\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsplumbchart/lib/flowchart.js","<template>\r\n  <div class=\"flowchart-node\" id=\"flowchartnode\">\r\n    <div\r\n      v-for=\"(data,index) in stepData\"\r\n      :id=\"data.id\"\r\n      :key=\"index\"\r\n      :class=\"'designIconBig '+setClass(nodeClass(data.type))\"\r\n      :data-sign=\"data.name\"\r\n      :data-type=\"data.type\"\r\n      :style=\"'left:'+data.x+'px;top:'+data.y+'px;position:absolute;margin:0'\"\r\n      @dblclick=\"dblClick(data)\"\r\n    >\r\n      <i class=\"icon iconfont icon-ir-designIconBg designIconBg\"></i>\r\n      <i\r\n        id=\"changeSte\"\r\n        :class=\"nodeIcon(data.type) == 'iconTrue'?'icon iconfont icon-ir-d-'+data.type:'icon iconfont icon-ir-d-default'\"\r\n      ></i>\r\n      <h4 :title=\"data.name\">{{data.name}}</h4>\r\n      <h5>ID:{{data.id}}</h5>\r\n      <em\r\n        id=\"copeDes\"\r\n        class=\"icon iconfont icon-ir-copy\"\r\n        title=\"复制\"\r\n        @click.prevent=\"copyNode(data)\"\r\n      ></em>\r\n      <em id=\"removeDes\" class=\"fa fa-trash-o\" title=\"删除\" @click=\"delNode(data.id)\"></em>\r\n\r\n      <div class=\"line-split\" v-show=\"data.type=='split'\" :style=\"setLineSplit(data)\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport _ from \"lodash\";\r\nimport { setClass, nodeClass, nodeIcon } from \"../../lib/flowchart\";\r\nexport default {\r\n  watch: {\r\n    data(val) {\r\n      this.stepData = val.stepData;\r\n      // this.$nextTick(() => {\r\n      //   this.stepData = val.stepData;\r\n      // });\r\n    }\r\n  },\r\n  props: {\r\n    data: {\r\n      type: Object,\r\n      default: {}\r\n    }\r\n  },\r\n  components: {},\r\n  data: function() {\r\n    return {\r\n      stepData: [],\r\n      nodeClass: nodeClass,\r\n      nodeIcon: nodeIcon,\r\n      setClass: setClass\r\n    };\r\n  },\r\n  computed: {\r\n    //...mapState([\"\"])\r\n  },\r\n  mounted() {},\r\n  beforeCreate() {},\r\n  created() {},\r\n  beforeMount() {},\r\n  beforeUpdate() {},\r\n  updated() {},\r\n  beforeDestroy() {},\r\n  destroyed: function() {},\r\n  methods: {\r\n    //...mapActions([\"\"]),\r\n    delNode(val) {\r\n      this.$emit(\"delNode\", val);\r\n    },\r\n    dblClick(val) {\r\n      this.$emit(\"dblClick\", val);\r\n    },\r\n    copyNode(val) {\r\n      this.$emit(\"copyNode\", val);\r\n    },\r\n    setLineSplit(step) {\r\n      if (step.type == \"split\") {\r\n        let outputConfigurations = _.toArray(step.outputConfigurations);\r\n\r\n        switch (outputConfigurations.length) {\r\n          case 21:\r\n          case 20:\r\n            return \"height: 280px; top: -100px;\";\r\n          case 19:\r\n          case 18:\r\n          case 17:\r\n            return \"height: 270px; top: -95px;\";\r\n\r\n          case 16:\r\n          case 15:\r\n            return \"height: 270px; top: -90px;\";\r\n          case 14:\r\n          case 13:\r\n          case 12:\r\n            return \"height: 190px; top: -50px;\";\r\n          case 11:\r\n          case 10:\r\n            return \"height: 155px; top: -43px;\";\r\n          case 9:\r\n          case 8:\r\n            // case 7:\r\n            return \"height: 120px; top: -35px;\";\r\n          case 7:\r\n          case 6:\r\n          case 5:\r\n            return \"height: 120px; top: -25px;\";\r\n          default:\r\n            return \"height: 70px; top: 0px;\";\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.flowchart-node {\r\n  height: 100%;\r\n  width: 100%;\r\n  position: relative;\r\n  // ////////////////////////node style begin///////////////////\r\n  .designIconBig {\r\n    height: 70px;\r\n    width: 150px;\r\n    margin: 0 auto;\r\n    padding: 12px;\r\n    box-sizing: border-box;\r\n    box-shadow: 0 10px 18px -9px rgba(0, 0, 0, 0.5);\r\n    background: #ffffff;\r\n    text-align: center;\r\n    position: absolute;\r\n    margin-right: 15px;\r\n    margin-bottom: 20px;\r\n    // cursor: move;\r\n    float: left;\r\n  }\r\n\r\n  .designIconBig i {\r\n    float: none !important;\r\n    position: absolute;\r\n    left: 5px;\r\n    top: 8px;\r\n    width: 30px !important;\r\n    height: 30px !important;\r\n    line-height: 30px !important;\r\n    font-size: 30px !important;\r\n  }\r\n\r\n  .designIconBig h4 {\r\n    position: absolute;\r\n    top: 5px;\r\n    left: 38px;\r\n    margin: 0px;\r\n    padding: 2px 0;\r\n    width: 110px;\r\n    text-align: left;\r\n    font-size: 14px;\r\n    font-weight: bold;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n  }\r\n\r\n  .designIconBig h5 {\r\n    position: absolute;\r\n    top: 25px;\r\n    left: 38px;\r\n    margin: 0px;\r\n    padding: 0px;\r\n    width: 110px;\r\n    text-align: left;\r\n    font-size: 12px;\r\n    font-weight: normal;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n  }\r\n\r\n  .designIconBig #removeDes {\r\n    position: absolute;\r\n    top: 46px;\r\n    right: 15px;\r\n    font-size: 14px;\r\n    color: #b9c0d8;\r\n    margin: 0px;\r\n    padding: 0px;\r\n  }\r\n\r\n  .designIconBig #copeDes {\r\n    position: absolute;\r\n    top: 45px;\r\n    right: 35px;\r\n    font-size: 14px;\r\n    color: #b9c0d8;\r\n    margin: 0px;\r\n    padding: 0px;\r\n  }\r\n  .designIconBig #pitchOnDes {\r\n    position: absolute;\r\n    top: 47px;\r\n    right: 60px;\r\n    font-size: 14px;\r\n    color: #b9c0d8;\r\n    margin: 0px;\r\n    padding: 0px;\r\n  }\r\n  .desingIconBig #markDes {\r\n    position: absolute;\r\n    top: 45px;\r\n    right: 20px;\r\n    font-size: 14px;\r\n    color: #b9c0d8;\r\n    margin: 0px;\r\n    padding: 0px;\r\n  }\r\n\r\n  .t1Style {\r\n    border: 2px solid #48c038;\r\n    color: #48c038;\r\n    border-radius: 2px;\r\n  }\r\n  .t2Style {\r\n    border: 2px solid #4586f3;\r\n    color: #4586f3;\r\n    border-radius: 2px;\r\n  }\r\n  .t3Style {\r\n    border: 2px solid #8367df;\r\n    color: #8367df;\r\n    border-radius: 2px;\r\n  }\r\n\r\n  .redStyle {\r\n    border: 2px solid red;\r\n  }\r\n  .designIconBg {\r\n    position: absolute;\r\n    color: #ffffff !important;\r\n  }\r\n\r\n  .designIconBig #removeDes:hover {\r\n    color: #ff4e4e;\r\n  }\r\n\r\n  .designIconBig #copeDes:hover {\r\n    color: #ff4e4e;\r\n  }\r\n\r\n  .designIconBig #pitchOnDes:hover {\r\n    color: #ff4e4e;\r\n  }\r\n\r\n  // ////////////////////////node style end///////////////////\r\n\r\n  .line-split {\r\n    position: absolute;\r\n    height: 100px;\r\n    width: 2px;\r\n    background: #4586f3;\r\n    right: -2px;\r\n    top: 0;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/jsplumbchart/node/flowchatNode/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flowchart-node\",attrs:{\"id\":\"flowchartnode\"}},_vm._l((_vm.stepData),function(data,index){return _c('div',{key:index,class:'designIconBig '+_vm.setClass(_vm.nodeClass(data.type)),style:('left:'+data.x+'px;top:'+data.y+'px;position:absolute;margin:0'),attrs:{\"id\":data.id,\"data-sign\":data.name,\"data-type\":data.type},on:{\"dblclick\":function($event){return _vm.dblClick(data)}}},[_c('i',{staticClass:\"icon iconfont icon-ir-designIconBg designIconBg\"}),_vm._v(\" \"),_c('i',{class:_vm.nodeIcon(data.type) == 'iconTrue'?'icon iconfont icon-ir-d-'+data.type:'icon iconfont icon-ir-d-default',attrs:{\"id\":\"changeSte\"}}),_vm._v(\" \"),_c('h4',{attrs:{\"title\":data.name}},[_vm._v(_vm._s(data.name))]),_vm._v(\" \"),_c('h5',[_vm._v(\"ID:\"+_vm._s(data.id))]),_vm._v(\" \"),_c('em',{staticClass:\"icon iconfont icon-ir-copy\",attrs:{\"id\":\"copeDes\",\"title\":\"复制\"},on:{\"click\":function($event){$event.preventDefault();return _vm.copyNode(data)}}}),_vm._v(\" \"),_c('em',{staticClass:\"fa fa-trash-o\",attrs:{\"id\":\"removeDes\",\"title\":\"删除\"},on:{\"click\":function($event){return _vm.delNode(data.id)}}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(data.type=='split'),expression:\"data.type=='split'\"}],staticClass:\"line-split\",style:(_vm.setLineSplit(data))})])}),0)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-2a64124a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/jsplumbchart/node/flowchatNode/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2a64124a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader!sass-resources-loader?{\\\"resources\\\":[\\\"C:\\\\\\\\work\\\\\\\\flowchart\\\\\\\\vue-template-cdn-gzip\\\\\\\\static\\\\\\\\globalstyle\\\\\\\\index.scss\\\",\\\"C:\\\\\\\\work\\\\\\\\flowchart\\\\\\\\vue-template-cdn-gzip\\\\\\\\static\\\\\\\\globalstyle\\\\\\\\var.scss\\\"]}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2a64124a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/jsplumbchart/node/flowchatNode/index.vue\n// module id = null\n// module chunks = ","// import instance from './instance';\r\n\r\nconst panzoom = require('panzoom');\r\n\r\n// 初始化panzoom插件\r\nfunction init(instance, shouldIgnore) {\r\n\tconst mainContainer = instance.getContainer();\r\n\tconst mainContainerWrap = mainContainer.parentNode;\r\n\tconst pan = panzoom(mainContainer, {\r\n\t\tsmoothScroll: false,\r\n\t\tbounds: false,\r\n\t\tautocenter: true,\r\n\t\tzoomDoubleClickSpeed: 1,\r\n\t\tminZoom: 0.5,\r\n\t\tmaxZoom: 2,\r\n\t\tbeforeWheel: function(e) {\r\n\t\t\treturn shouldIgnore;\r\n\t\t}\r\n\t});\r\n\tinstance.mainContainerWrap = mainContainerWrap;\r\n  instance.pan = pan;\r\n\t// 缩放时设置jsPlumb的缩放比率\r\n\tpan.on('zoom', (e) => {\r\n\t\tconst { scale } = e.getTransform();\r\n\t\t// console.log(\"scale\", scale);\r\n\t\tinstance.setZoom(scale);\r\n\t});\r\n\r\n\tpan.on('panstart', function(e) {\r\n\t\t// console.log(\"Fired when pan is just started \", e);\r\n\t\t// Note: e === instance.\r\n\t});\r\n\r\n\tpan.on('panend', function(e, x, y) {});\r\n\r\n\t// 平移时设置鼠标样式\r\n\tmainContainerWrap.style.cursor = 'grab';\r\n\tmainContainerWrap.addEventListener('mousedown', function wrapMousedown() {\r\n\t\tthis.style.cursor = 'grabbing';\r\n\t\tmainContainerWrap.addEventListener('mouseout', function wrapMouseout() {\r\n\t\t\tthis.style.cursor = 'grab';\r\n\t\t});\r\n\t});\r\n\tmainContainerWrap.addEventListener('mouseup', function wrapMouseup() {\r\n\t\tthis.style.cursor = 'grab';\r\n\t});\r\n\r\n\treturn pan;\r\n}\r\nconst panZoom = {\r\n\tinit\r\n};\r\n\r\n/**\r\n * @description 获取缩放比率\r\n * @returns {number} 缩放比率\r\n */\r\nconst getScale = (instance) => {\r\n\t// let container = instance.getContainer();\r\n\t// let scale1;\r\n\t// if (instance.pan) {\r\n\t//   const { scale } = instance.pan.getTransform();\r\n\t//   scale1 = scale;\r\n\t// } else {\r\n\t//   const matrix = window.getComputedStyle(container).transform;\r\n\t//   scale1 = matrix.split(\", \")[3] * 1;\r\n\t// }\r\n\t// instance.setZoom(scale1);\r\n\t// return scale1;\r\n\r\n\tlet container = this.jsplumbInstance.getContainer();\r\n\tlet scale1;\r\n\tif (this.jsplumbInstance.pan) {\r\n\t\tconst { scale } = this.jsplumbInstance.pan.getTransform();\r\n\t\tscale1 = scale;\r\n\t} else {\r\n\t\tconst matrix = window.getComputedStyle(container).transform;\r\n\t\tscale1 = matrix.split(', ')[3] * 1;\r\n\t}\r\n\tthis.jsplumbInstance.setZoom(scale1);\r\n\treturn scale1;\r\n};\r\n\r\nexport default panZoom;\r\n\r\nexport { getScale };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsplumbchart/lib/pan.js","<template>\r\n  <div class=\"jsplumb-chart\">\r\n    <div class=\"cavansClass\" id=\"cavans\">\r\n      <flowchartNode\r\n        :data=\"{stepData:stepData}\"\r\n        @dblClick=\"dblClick\"\r\n        @copyNode=\"copyNode\"\r\n        @delNode=\"delNode\"\r\n        v-show=\"nodeType=='flowchartnode'\"\r\n      ></flowchartNode>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n/* eslint-disable */\r\n// import { mapGetters, mapActions, mapState } from \"vuex\";\r\nimport getInstance from \"./lib/getInstance\";\r\nimport _ from \"lodash\";\r\nimport flowchartNode from \"./node/flowchatNode/index\";\r\nimport panzoom from \"./lib/pan\";\r\nimport {\r\n  message,\r\n  filterLinkData,\r\n  nodeClass,\r\n  nodeIcon,\r\n  specialNodeClass,\r\n  origin,\r\n  destination,\r\n  addEndpointToNode,\r\n  getNodeType,\r\n  setClass,\r\n  connect\r\n} from \"./lib/flowchart\";\r\n\r\nexport default {\r\n  watch: {\r\n    data(val) {\r\n      this.stepData = this.data.steps;\r\n      this.links = this.data.links;\r\n      this.nodeType = this.data.nodeType;\r\n    },\r\n    stepData(val) {\r\n      this.$emit(\"modifyChart\", { stepData: val, links: this.links });\r\n    },\r\n    links(val) {\r\n      this.$emit(\"modifyChart\", { stepData: this.stepData, links: val });\r\n    }\r\n  },\r\n  props: {\r\n    data: {\r\n      type: Object,\r\n      default: false\r\n    }\r\n  },\r\n  components: {\r\n    flowchartNode\r\n    // cepNode\r\n  },\r\n  data: function() {\r\n    return {\r\n      jsplumbInstance: getInstance({\r\n        // container: \"workplace\",\r\n        container: this.data.container,\r\n        delConnections: this.delConnections,\r\n        completedConnect: this.completedConnect,\r\n        jsPlumb: this.data.jsPlumb\r\n      }),\r\n      stepData: [],\r\n      links: [],\r\n      nodeClass: nodeClass,\r\n      nodeIcon: nodeIcon,\r\n      setClass: setClass,\r\n      instanceZoom: \"\",\r\n      nodeType: \"\",\r\n      isPanZoomInit: true,\r\n      cssText: \"\"\r\n    };\r\n  },\r\n  computed: {\r\n    //...mapState([\"\"])\r\n  },\r\n  mounted() {},\r\n  beforeCreate() {},\r\n  created() {},\r\n  beforeMount() {},\r\n  beforeUpdate() {},\r\n  updated() {\r\n    this.$nextTick(() => {\r\n      this.drawJsplumbChart(\r\n        {\r\n          jsplumbInstance: this.jsplumbInstance,\r\n          self: this,\r\n          flowData: this.stepData,\r\n          links: this.links\r\n        },\r\n        () => {\r\n          this.getLinksData();\r\n          if (this.isPanZoomInit) {\r\n            panzoom.init(this.jsplumbInstance, false);\r\n            this.isPanZoomInit = false;\r\n\r\n            this.canvasMoveTo(this.data.matrix, transformOrigin => {\r\n              this.jsplumbInstance.pan.moveTo(\r\n                transformOrigin.x,\r\n                transformOrigin.y\r\n              );\r\n            });\r\n          }\r\n        }\r\n      );\r\n    });\r\n  },\r\n  beforeDestroy() {},\r\n  destroyed: function() {},\r\n  methods: {\r\n    //...mapActions([\"\"]),\r\n    canvasMoveTo(data, fn) {\r\n      let matrix = data\r\n        .split(\"(\")[1]\r\n        .split(\")\")[0]\r\n        .split(\",\");\r\n      let result = {\r\n        x: parseInt(matrix[4]),\r\n        y: parseInt(matrix[5])\r\n      };\r\n\r\n      fn(result);\r\n    },\r\n    setCavansMatrix(data) {\r\n      let source = _.filter(data, val => {\r\n        return val.type == \"source\";\r\n      });\r\n\r\n      return source[0].stepSettings && source[0].stepSettings.matrix;\r\n    },\r\n    setNodeTemplate(val) {\r\n      switch (val) {\r\n        case \"flowchartnode\":\r\n          return flowchartNode;\r\n        case \"cepNode\":\r\n          return cepNode;\r\n        default:\r\n          \"\";\r\n      }\r\n    },\r\n    drawJsplumbChart(data, connectCallback) {\r\n      addEndpointToNode(\r\n        data.jsplumbInstance,\r\n        data.self,\r\n        data.flowData,\r\n        val => {\r\n          this.stepData = _.map(this.stepData, item => {\r\n            if (item.id == val.id) {\r\n              return {\r\n                ...item,\r\n                x: val.x,\r\n                y: val.y\r\n              };\r\n            } else {\r\n              return item;\r\n            }\r\n          });\r\n        },\r\n        _\r\n      );\r\n      connect(data.jsplumbInstance, data.self, data.links, connectCallback);\r\n    },\r\n    completedConnect() {\r\n      this.getLinksData();\r\n    },\r\n    delConnections(val, fn) {\r\n      fn();\r\n      this.getLinksData();\r\n    },\r\n    delNode(val) {\r\n      this.stepData = _.filter(_.cloneDeep(this.stepData), item => {\r\n        return item.id != val;\r\n      });\r\n    },\r\n    dblClick(val) {\r\n      this.$emit(\"nodedblClick\", val);\r\n    },\r\n    getLinksData() {\r\n      this.links = filterLinkData(\r\n        _.map(this.jsplumbInstance.getAllConnections(), item => {\r\n          return {\r\n            name: item.id,\r\n            source: item.sourceId,\r\n            sourceOutput: item.endpoints[0].canvas.nextSibling.textContent,\r\n            target: item.targetId,\r\n            targetInput: item.target.dataset.type,\r\n            input: item.endpoints[1].canvas.nextSibling.textContent\r\n          };\r\n        }),\r\n        _\r\n      );\r\n    },\r\n    reset() {\r\n      this.stepData = [];\r\n      this.links = [];\r\n      this.jsplumbInstance.deleteEveryEndpoint(\"workplace\");\r\n    },\r\n\r\n    copyNode(val) {\r\n      let node = {\r\n        ...val,\r\n        x: val.x + 50,\r\n        y: val.y + 50,\r\n        id: val.type + \"_\" + (this.stepData.length + 1) + \"_copy\"\r\n        // id: \"rtc_\" + val.type + \"_\" + (this.stepData.length + 1)\r\n      };\r\n      this.$emit(\"handleDrop\", node);\r\n    },\r\n    setLineSplit(step) {\r\n      //console.log(\"setLineSplit(step){\", step); //outputConfigurations\r\n\r\n      if (step.type == \"split\") {\r\n        let outputConfigurations = _.toArray(step.outputConfigurations);\r\n\r\n        switch (outputConfigurations.length) {\r\n          case 21:\r\n          case 20:\r\n            return \"height: 280px; top: -100px;\";\r\n          case 19:\r\n          case 18:\r\n          case 17:\r\n            return \"height: 270px; top: -95px;\";\r\n\r\n          case 16:\r\n          case 15:\r\n            return \"height: 270px; top: -90px;\";\r\n          case 14:\r\n          case 13:\r\n          case 12:\r\n            return \"height: 190px; top: -50px;\";\r\n          case 11:\r\n          case 10:\r\n            return \"height: 155px; top: -43px;\";\r\n          case 9:\r\n          case 8:\r\n            // case 7:\r\n            return \"height: 120px; top: -35px;\";\r\n          case 7:\r\n          case 6:\r\n          case 5:\r\n            return \"height: 120px; top: -25px;\";\r\n          default:\r\n            return \"height: 70px; top: 0px;\";\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.jsplumb-chart {\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n\r\n  .cavansClass {\r\n    height: 100%;\r\n    width: 100%;\r\n    position: relative;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/jsplumbchart/index.vue","// import plumbGather from \"jsplumb\";\r\n\r\nexport default function(options) {\r\n\t// let instance = plumbGather.jsPlumb.getInstance({\r\n\t//   Container: options.container\r\n\t// });\r\n\r\n\tlet instance = options.jsPlumb.getInstance({\r\n\t\tContainer: options.container\r\n\t});\r\n\r\n\tinstance.bind('click', function(c) {\r\n\t\t// instance.deleteConnection(c); //instance\r\n\t\t// options.delConnections(c, () => {\r\n\t\t// \t//instance.deleteConnection(c); //instance\r\n\t\t// \t//instance.detach(c);\r\n\t\t// });\r\n\r\n\t\t//instance.deleteConnection(c); //instance\r\n\t\tinstance.detach(c);\r\n\t});\r\n\r\n\tinstance.bind('connection', function(c) {\r\n\t\toptions.completedConnect();\r\n\t});\r\n\r\n\t// 连接线删除时触发\r\n\tinstance.bind('connectionDetached', function(c) {\r\n\t\toptions.delConnections(c, () => {});\r\n\t});\r\n\r\n\treturn instance;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsplumbchart/lib/getInstance.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"jsplumb-chart\"},[_c('div',{staticClass:\"cavansClass\",attrs:{\"id\":\"cavans\"}},[_c('flowchartNode',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.nodeType=='flowchartnode'),expression:\"nodeType=='flowchartnode'\"}],attrs:{\"data\":{stepData:_vm.stepData}},on:{\"dblClick\":_vm.dblClick,\"copyNode\":_vm.copyNode,\"delNode\":_vm.delNode}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-3d5d5c36\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/jsplumbchart/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3d5d5c36\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader!sass-resources-loader?{\\\"resources\\\":[\\\"C:\\\\\\\\work\\\\\\\\flowchart\\\\\\\\vue-template-cdn-gzip\\\\\\\\static\\\\\\\\globalstyle\\\\\\\\index.scss\\\",\\\"C:\\\\\\\\work\\\\\\\\flowchart\\\\\\\\vue-template-cdn-gzip\\\\\\\\static\\\\\\\\globalstyle\\\\\\\\var.scss\\\"]}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3d5d5c36\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/jsplumbchart/index.vue\n// module id = null\n// module chunks = ","import jsplumbchart from \"./index.vue\";\r\n\r\nexport default {\r\n  install(Vue, options) {\r\n    // Let's register our component globally\r\n    // https://vuejs.org/v2/guide/components-registration.html\r\n    Vue.component(\"jsplumb-chart\", jsplumbchart);\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsplumbchart/index.js"],"sourceRoot":""}